<div class="container-fluid">
  <h2>Information Requests</h2>
  <button (click)="openPopup()" class="btn btn-primary mb-3">Add New Request</button>

  <!-- DX Data Grid -->
  <dx-data-grid
    [dataSource]="informationRequestDataSource"
    [remoteOperations]="false"
    [width]="'100%'" 
    [height]="700"
    [showBorders]="true"
    [columnAutoWidth]="true"
  >
    <dxo-editing [allowAdding]="false" [allowUpdating]="false" [allowDeleting]="false"></dxo-editing>
    <dxo-filter-row [visible]="true"></dxo-filter-row>
    <dxo-header-filter [visible]="true"></dxo-header-filter>
    <dxi-column dataField="requestNumber" caption="Request Number"></dxi-column>
    <dxi-column dataField="sirYear" caption="Year"></dxi-column>
    <dxi-column dataField="mileStoneDate" caption="Deadline" dataType="date"></dxi-column>
    <dxi-column dataField="submissionType" caption="Submission Type"></dxi-column>
    <dxi-column dataField="organizationalUnitName" caption="Unit"></dxi-column>
    <dxi-column dataField="coordinatorName" caption="Coordinator Name"></dxi-column>
    <dxi-column dataField="worksheetType" caption="Worksheet Type"></dxi-column>
    <dxi-column dataField="approverName" caption="Approver"></dxi-column>
    <dxi-column dataField="requestStatus" caption="Status"></dxi-column>
    <dxi-column dataField="id" cellTemplate="editTemplate">Details</dxi-column>
    <div *dxTemplate="let data of 'editTemplate'">
      <div>
        <button class="btn btn-sm btn-primary me-2" (click)="openPopup(data.data)">
          <i class="bi bi-pencil-fill"></i> Edit
        </button>
        <button class="btn btn-sm btn-danger" (click)="deleteRequest(data.data)">
          <i class="bi bi-trash-fill"></i> Delete
        </button>
      </div>
    </div>
  </dx-data-grid>
</div>