<h2>Managers</h2>
<button (click)="openPopup(null)" class="btn btn-primary mb-3">Add New Manager</button>
<dx-data-grid [dataSource]="managerCustomStore"
 [remoteOperations]="false" 
[width]="'100%'" [height]="700"
  [showBorders]="true">
  <dxo-filter-row [visible]="true"></dxo-filter-row>
  <dxo-header-filter [visible]="true"></dxo-header-filter>


  <dxo-editing [allowAdding]="false" [allowUpdating]="false" [allowDeleting]="false"></dxo-editing>

  <!-- DDSU Code -->
  <dxi-column dataField="ddsuCode" caption="DDSU Code">  </dxi-column>  
  <dxi-column dataField="division" caption="Division"> </dxi-column>  
  <dxi-column dataField="divisionCode" caption="Division Code"></dxi-column>  
  <dxi-column dataField="sectionCode" caption="Section Code"></dxi-column>  
  <dxi-column dataField="fullName" caption="Full Name">  </dxi-column> 
  <dxi-column dataField="functionalTitle" caption="Functional Title"></dxi-column>  
  <dxi-column dataField="approverRole" caption="Approver Role" dataType="boolean"></dxi-column> 
  <dxi-column dataField="contributorRole" caption="Contributor Role" dataType="boolean"></dxi-column> 
  <dxi-column dataField="personnelNumber" caption="Personnel Number"></dxi-column>  
  <dxi-column dataField="id" cellTemplate="editTemplate">Details</dxi-column>
  <div *dxTemplate="let data of 'editTemplate'">
    <div>
      <button class="btn btn-sm btn-primary me-2" (click)="openPopup(data.data)">
        <i class="bi bi-pencil-fill"></i> Edit
      </button>
      <button class="btn btn-sm btn-danger" (click)="deleteRequest(data.data)">
        <i class="bi bi-trash-fill"></i> Delete
      </button>
    </div>
  </div>

</dx-data-grid>
<dx-popup
  [(visible)]="isPopupVisible"
  [width]="800"
  [height]="600"
  [showCloseButton]="true"
  [dragEnabled]="true"
  title="Manager form"
>
  <div *dxTemplate="let data of 'content'">
    <app-manager-add-edit
      [selectedManager]="selectedManager"     
      (save)="onSave($event)"
      (cancel)="onCancel()"
    ></app-manager-add-edit>
  </div>
</dx-popup>